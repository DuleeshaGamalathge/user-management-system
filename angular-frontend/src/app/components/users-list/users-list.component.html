<div class="container">
    <h2>Users List</h2>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th style="width: 200px;">Actions</th>
        </tr>
      </thead>
    
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <button class="btn btn-sm btn-primary me-2"
                    (click)="editUser(user)">
              Edit
            </button>
    
            <button class="btn btn-sm btn-danger"
                    (click)="deleteUser(user.id)">
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>    
</div>

<!-- add user form  -->
<div class="container mt-5">
  <h3>Add User</h3>

  <input
    type="text"
    placeholder="Name"
    [(ngModel)]="newUser.name"
  />

  <input
    type="email"
    placeholder="Email"
    [(ngModel)]="newUser.email"
  />

  <button (click)="addUser()">Add User</button>

  <hr />

</div>

<!-- edit form -->
<div *ngIf="selectedUser" class="card mt-4 p-3">
  <h5>Edit User</h5>

  <div class="mb-2">
    <input class="form-control"
           [(ngModel)]="selectedUser.name"
           placeholder="Name" />
  </div>

  <div class="mb-2">
    <input class="form-control"
           [(ngModel)]="selectedUser.email"
           placeholder="Email" />
  </div>

  <div class="d-flex gap-2">
      <button type="button" class="btn btn-success me-2" (click)="updateUser()">Save</button>
      <button type="button" class="btn btn-secondary" (click)="selectedUser = null">Cancel</button>
  </div>
</div>

